<!DOCTYPE html>
<html lang="en-US">
  <head>
    <title>Power</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta
      name="description"
      content="Power is a concept we can apply to reason about making optimal solutions with good code quality."
    />
    <meta name="robots" content="index, follow" />

    <link rel="canonical" href="/article/power/index.html" />

    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/logo192.png" />

    <meta name="theme-color" content="#178bfb" />

    <meta property="og:title" content="Power" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Chris Andrejewski" />
    <meta property="og:url" content="/article/power/index.html" />

    <meta property="twitter:card" content="summary" />
    <meta name="twitter:site" content="compooter" />
    <meta name="twitter:title" content="Power" />
    <meta
      name="twitter:description"
      content="Power is a concept we can apply to reason about making optimal solutions with good code quality."
    />

    <link rel="stylesheet" href="/stylesheet/highlight-atom-one.css" />
    <style data-styled="true" data-styled-version="5.3.5">
      .kvjZgE {
        color: rgb(6, 90, 163);
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .kvjZgE {
          color: #5eb6ff;
        }
      } /*!sc*/
      data-styled.g1[id='sc-bczRLJ'] {
        content: 'kvjZgE,';
      } /*!sc*/
      .cUDFKA {
        padding-bottom: 4rem;
      } /*!sc*/
      data-styled.g2[id='sc-gsnTZi'] {
        content: 'cUDFKA,';
      } /*!sc*/
      .ftgBFL {
        background-color: #fff;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .ftgBFL {
          background-color: #16202e;
        }
      } /*!sc*/
      data-styled.g3[id='sc-dkzDqf'] {
        content: 'ftgBFL,';
      } /*!sc*/
      .iMPPhc {
        padding: 0px 1rem;
        max-width: 720px;
        margin: 0px auto;
      } /*!sc*/
      data-styled.g4[id='sc-hKMtZM'] {
        content: 'iMPPhc,';
      } /*!sc*/
      .jZkxEC {
        margin: 15px 0em;
      } /*!sc*/
      .jZkxEC:first-child {
        margin-top: 0px;
      } /*!sc*/
      .jZkxEC:last-child {
        margin-bottom: 0px;
      } /*!sc*/
      data-styled.g5[id='sc-eCYdqJ'] {
        content: 'jZkxEC,';
      } /*!sc*/
      .imgLsS {
        padding-top: 3rem;
        margin-bottom: 3rem;
      } /*!sc*/
      data-styled.g6[id='sc-jSMfEi'] {
        content: 'imgLsS,';
      } /*!sc*/
      .kaKiDU {
        font-size: 3rem;
        margin: 0px;
      } /*!sc*/
      @media (max-width: 720px) {
        .kaKiDU {
          font-size: 1.8rem;
        }
      } /*!sc*/
      data-styled.g7[id='sc-gKXOVf'] {
        content: 'kaKiDU,';
      } /*!sc*/
      .xFOWy {
        margin: 0;
        line-height: 1.5rem;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .xFOWy {
          color: #dbe0e7;
        }
      } /*!sc*/
      data-styled.g8[id='sc-iBkjds'] {
        content: 'xFOWy,';
      } /*!sc*/
      .clAnHv {
        display: inline-block;
        font-size: 0.9rem;
        line-height: 1rem;
        background-color: #dcefff;
        color: #151515;
        border-radius: 3px;
        padding: 0.25rem 0.5rem;
        margin: 0.25rem 0.5rem 0.25rem 0;
        -webkit-text-decoration: none;
        text-decoration: none;
        white-space: nowrap;
      } /*!sc*/
      .clAnHv:hover {
        -webkit-text-decoration: underline;
        text-decoration: underline;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .clAnHv {
          background-color: #2f3d4e;
          color: #c8d2e0;
        }
      } /*!sc*/
      data-styled.g9[id='sc-ftvSup'] {
        content: 'clAnHv,';
      } /*!sc*/
      .iHVwPn {
        color: inherit;
        -webkit-text-decoration: none;
        text-decoration: none;
      } /*!sc*/
      .iHVwPn:hover span {
        -webkit-text-decoration: underline;
        text-decoration: underline;
      } /*!sc*/
      .iHVwPn:hover:after {
        opacity: 1;
      } /*!sc*/
      .iHVwPn:after {
        content: 'ðŸ”—';
        padding: 0 0.5rem;
        font-size: 1rem;
        opacity: 0.25;
      } /*!sc*/
      data-styled.g10[id='sc-papXJ'] {
        content: 'iHVwPn,';
      } /*!sc*/
      .dzrrbr {
        padding: 1rem;
        margin: 3rem 0;
        background-color: #eef8ff;
        color: #4a8dc8;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .dzrrbr {
          background-color: #2a3d55;
          color: #95afd1;
        }
      } /*!sc*/
      .dzrrbr label {
        text-transform: uppercase;
        font-weight: bold;
        font-size: 0.85rem;
        color: #08273f;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .dzrrbr label {
          color: #dde0e3;
        }
      } /*!sc*/
      .dzrrbr .sc-iBkjds {
        color: #153248;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .dzrrbr .sc-iBkjds {
          color: #d0e4ff;
        }
      } /*!sc*/
      .dzrrbr ul {
        margin: 0.5rem 0;
        padding: 0;
        padding-left: 1rem;
      } /*!sc*/
      .dzrrbr a {
        color: rgb(6, 90, 163);
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .dzrrbr a {
          color: #5eb6ff;
        }
      } /*!sc*/
      .dzrrbr a code {
        font-family: Monaco, monospace;
        font-size: 0.9rem;
        padding: 0 0.25rem;
        border-radius: 3px;
        background-color: #b9dbf5;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .dzrrbr a code {
          background-color: #354e6d;
        }
      } /*!sc*/
      data-styled.g11[id='sc-jqUVSM'] {
        content: 'dzrrbr,';
      } /*!sc*/
      * {
        box-sizing: border-box;
      } /*!sc*/
      body {
        margin: 0px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica,
          Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
          'Segoe UI Symbol';
        background-color: #eff7fd;
        color: #000;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        body {
          background-color: #0d1117;
          color: #fff;
        }
      } /*!sc*/
      data-styled.g12[id='sc-global-kFwHxP1'] {
        content: 'sc-global-kFwHxP1,';
      } /*!sc*/
      .kylQxs {
        display: -webkit-box;
        display: -webkit-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-pack: justify;
        -webkit-justify-content: space-between;
        -ms-flex-pack: justify;
        justify-content: space-between;
        -webkit-align-items: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
      } /*!sc*/
      .kylQxs h1 {
        font-size: 1.5rem;
        padding: 1rem 0px;
        margin: 0;
      } /*!sc*/
      .kylQxs h1 a {
        -webkit-text-decoration: none;
        text-decoration: none;
        color: inherit;
      } /*!sc*/
      .kylQxs h1 a:hover {
        -webkit-text-decoration: underline;
        text-decoration: underline;
      } /*!sc*/
      @media (max-width: 720px) {
        .kylQxs .sc-kDDrLX {
          display: none;
        }
      } /*!sc*/
      data-styled.g14[id='sc-iqcoie'] {
        content: 'kylQxs,';
      } /*!sc*/
      .knOpkX {
        border-top: 2px solid #d7d7d7;
        margin: 4rem 0;
        padding-top: 4rem;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .knOpkX {
          border-color: #4c545e;
        }
      } /*!sc*/
      data-styled.g53[id='sc-jOrMOR'] {
        content: 'knOpkX,';
      } /*!sc*/
      .cxoMSa h1 > a,
      .cxoMSa h2 > a,
      .cxoMSa h3 > a,
      .cxoMSa h4 > a,
      .cxoMSa h5 > a,
      .cxoMSa h6 > a {
        color: inherit;
        -webkit-text-decoration: none;
        text-decoration: none;
      } /*!sc*/
      .cxoMSa h1 > a:hover,
      .cxoMSa h2 > a:hover,
      .cxoMSa h3 > a:hover,
      .cxoMSa h4 > a:hover,
      .cxoMSa h5 > a:hover,
      .cxoMSa h6 > a:hover {
        -webkit-text-decoration: underline;
        text-decoration: underline;
      } /*!sc*/
      .cxoMSa p,
      .cxoMSa li {
        line-height: 1.5rem;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .cxoMSa p,
        .cxoMSa li {
          color: #dbe0e7;
        }
      } /*!sc*/
      .cxoMSa a {
        color: rgb(6, 90, 163);
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .cxoMSa a {
          color: #5eb6ff;
        }
      } /*!sc*/
      .cxoMSa ul {
        padding-left: 1rem;
      } /*!sc*/
      .cxoMSa code {
        font-family: Monaco, monospace;
      } /*!sc*/
      .cxoMSa h1 code,
      .cxoMSa h2 code,
      .cxoMSa h3 code,
      .cxoMSa h4 code,
      .cxoMSa h5 code,
      .cxoMSa h6 code,
      .cxoMSa li code,
      .cxoMSa p code {
        font-size: 0.9em;
        padding: 0 0.25em;
        border-radius: 3px;
        background-color: #eff7fd;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .cxoMSa h1 code,
        .cxoMSa h2 code,
        .cxoMSa h3 code,
        .cxoMSa h4 code,
        .cxoMSa h5 code,
        .cxoMSa h6 code,
        .cxoMSa li code,
        .cxoMSa p code {
          background-color: #2b3644;
        }
      } /*!sc*/
      .cxoMSa pre {
        background-color: #eff7fd;
        padding: 0.5rem 0.75rem;
        overflow-x: scroll;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .cxoMSa pre {
          background-color: #2b3645;
        }
      } /*!sc*/
      .cxoMSa img {
        display: block;
        max-width: 100%;
        max-height: 520px;
        font-size: 0;
        margin: 0px auto;
        padding: 0px;
      } /*!sc*/
      .cxoMSa video {
        display: block;
        margin: 1rem auto;
      } /*!sc*/
      .cxoMSa figure {
        text-align: center;
        margin: 20px 0px;
      } /*!sc*/
      .cxoMSa figure img {
        display: block;
        max-width: 90vw;
        margin: 0px auto;
      } /*!sc*/
      .cxoMSa figure figcaption {
        opacity: 0.9;
        font-size: 1.1em;
        margin: 10px auto;
      } /*!sc*/
      .cxoMSa .cali-collage {
        padding: 20px 0px;
        text-align: center;
      } /*!sc*/
      .cxoMSa .cali-collage img {
        display: inline-block;
        margin: 10px;
        max-width: 95vw;
        vertical-align: middle;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
      } /*!sc*/
      data-styled.g54[id='sc-dPyBCJ'] {
        content: 'cxoMSa,';
      } /*!sc*/
      .IPkLw {
        text-align: center;
      } /*!sc*/
      @media (prefers-color-scheme: dark) {
        .IPkLw {
          color: #dbe0e7;
        }
      } /*!sc*/
      .IPkLw h3 {
        margin: 0.5em 0;
      } /*!sc*/
      .IPkLw p {
        margin: 0;
      } /*!sc*/
      data-styled.g55[id='sc-bBXxYQ'] {
        content: 'IPkLw,';
      } /*!sc*/
    </style>

    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-G3SKTPFTEZ"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || []
      function gtag() {
        dataLayer.push(arguments)
      }
      gtag('js', new Date())
      gtag('config', 'G-G3SKTPFTEZ')
    </script>
  </head>
  <body>
    <div class="sc-dkzDqf ftgBFL">
      <div class="sc-gsnTZi cUDFKA">
        <div class="sc-dkzDqf ftgBFL">
          <div class="sc-hKMtZM iMPPhc">
            <nav class="sc-iqcoie kylQxs">
              <h1><a href="/">Chris Andrejewski</a></h1>
            </nav>
          </div>
        </div>
        <div class="sc-hKMtZM iMPPhc">
          <div class="sc-jSMfEi imgLsS">
            <p class="sc-iBkjds xFOWy">
              <a href="/writing" class="sc-ftvSup clAnHv">Articles</a
              ><a
                href="/category/code-quality/index.html"
                class="sc-ftvSup clAnHv"
                >Code quality principles</a
              ><a
                href="/category/engineering/index.html"
                class="sc-ftvSup clAnHv"
                >Engineering</a
              >
            </p>
            <h1 class="sc-gKXOVf kaKiDU">
              <a href="#" class="sc-papXJ iHVwPn"><span>Power</span></a>
            </h1>
            <p class="sc-iBkjds xFOWy">
              Power is a concept we can apply to reason about making optimal
              solutions with good code quality.
            </p>
          </div>
          <div class="sc-jqUVSM dzrrbr">
            <p class="sc-iBkjds xFOWy"><label>Table of contents</label></p>
            <div>
              <ul>
                <li><a href="#power-levels">Power levels</a></li>
                <li><a href="#simplicity">Simplicity</a></li>
              </ul>
            </div>
          </div>
          <div class="sc-eCYdqJ jZkxEC">
            <div class="sc-dPyBCJ cxoMSa">
              <p>
                There are many ways to solve a problem. Choosing the optimal
                approach is important to write good code and maintain its
                quality over time. One concept we can use to help us reason
                though figuring out this solution is power: the flexibility and
                dynamism of the constructs we use to model solutions. At a
                minimum, a program needs enough &quot;power&quot; to meet its
                immediate requirements; but how much more than that?
              </p>
              <p>For code quality, an awareness of power:</p>
              <ul>
                <li>
                  Helps to frame discussions around simplicity and flexibility
                </li>
                <li>
                  Encourages thinking about the growth and limitations of a
                  system over time
                </li>
                <li>
                  Discourages over-engineering and unnecessary premature
                  optimization
                </li>
              </ul>
              <h2 id="power-levels">
                <a href="#power-levels">Power levels</a>
              </h2>
              <p>
                Programming languages expose features with different power
                levels. Before we talk about proper use of power, we should talk
                about the common options.
              </p>
              <ol>
                <li>
                  <p>
                    <strong>Data</strong> is the least powerful thing. It is
                    inert. These are most languages' primitive types such as
                    integers and strings, but also include more complex data
                    structures. These things lack dynamism and ought to be
                    immutable.
                  </p>
                </li>
                <li>
                  <p>
                    <strong>Conditionals</strong> are where things start to get
                    dynamic. If-else, switch, case-when and other decision
                    points form the bedrock of actually executing code.
                  </p>
                </li>
                <li>
                  <p>
                    <strong>Flow control operators</strong> are worth calling
                    out because they introduce the idea that code may never
                    finish running. While loops can get caught in infinite loops
                    if misused, or may be intentional for long running tasks. In
                    this vein, functions also fit as recursion can be used to
                    this effect as well. (And without
                    <a href="https://en.wikipedia.org/wiki/Tail_call"
                      >tail-call optimization</a
                    >, recursive functions can cause stack overflows much more
                    readily). Non-recursive, acyclic functions ought not be
                    considered powerful; these are simply a means for organizing
                    code since they don't introduce these issues.
                  </p>
                </li>
                <li>
                  <p>
                    <strong>Interfaces and dynamic dispatch</strong> (often
                    &quot;methods&quot;) introduces indirection between the
                    caller and receiver. It is at this point where we can start
                    to lose a sense of what will happen when we call something
                    as methods meeting a common interface may do very different
                    things. In another sense this is where we start to think of
                    functions as values.
                  </p>
                </li>
                <li>
                  <p>
                    <strong>Goto statements</strong> have fallen out of favor
                    but do deserve a shout out for just how crazy powerful they
                    are. &quot;Pause whatever we are doing and start executing
                    code at line X&quot; blows through so much one might intend
                    to have happened before the code is run. We also have to
                    understand the &quot;context&quot; of the call because
                    unlike a function we can't pass or return values so this
                    guarantees some shared global state.
                  </p>
                  <p>
                    Notice goto operates at the code-as-text level since it
                    maintains the relation to a <em>line of code</em> or label
                    whereas everything above can be reasoned about as
                    non-textual concepts.
                  </p>
                </li>
              </ol>
              <p>
                Beyond these programming level features, we should also talk
                about some facets of power that can differ based on language.
              </p>
              <ul>
                <li>
                  <p>
                    <strong>Asynchrony.</strong> In a language like JavaScript,
                    asynchronous behavior is mostly implicit in the code. Unless
                    you are diligent in adopting
                    <code>async/await</code> annotations, what is blocking
                    execution and what is async is fairly arbitrary.
                    Asynchronous work is incredibly powerful because it can take
                    a long time and other things can execute in the meantime.
                    Other things happening means things can change. Careful
                    attention must be paid to when and where assumptions are
                    made because they may be far removed from when a resulting
                    action is taken.
                  </p>
                </li>
                <li>
                  <p>
                    <strong>Meta-programming</strong> is implemented wildly
                    differently in languages, if it is at all. To even begin to
                    discuss this, let's say meta-programming in the general case
                    is more powerful than dynamic dispatch. This ought not be
                    true for an executing program because meta-programming can
                    elide dynamic dispatch. For example, Rust supports generic
                    types which when compiled generate monomorphic function
                    code. You pay the cost of that indirection as the difference
                    between the written code and what executes.
                  </p>
                  <p>
                    Rust also supports hygienic macros which generate more
                    arbitrary code. These macros are more robust and
                    maintainable than text-based macros more common in C/C++.
                    When we talk about power though, these are roughly
                    equivalent in the amount of indirection they introduce.
                  </p>
                  <p>
                    For text based languages there's always the avenue of
                    writing programs to write files which will then be
                    compiled/interpreted. In which case you're not getting the
                    benefits of the language's built-in meta-programming
                    facilities, which may not have enough power.
                  </p>
                  <p>
                    But all that is child's play compared to runtime
                    meta-programming. Writing code using macros in real time is
                    the power feature of Lisp and similar languages. This is the
                    pinnacle of power (besides maybe self-learning ML/AI). Of
                    course JavaScript participates in this space with
                    <code>eval()</code>.
                  </p>
                </li>
                <li>
                  <p>
                    <strong>Remote procedure calls (RPC)</strong> represent
                    power beyond a single computer. All bets are off making
                    networked connections to services. They don't use the same
                    programming language, change dramatically over time, may
                    become unreachable, and with the pace of technology are
                    unconstricted by any current notion of power. Entering this
                    realm of power invites understanding topics in distributed
                    systems.
                  </p>
                </li>
              </ul>
              <h2 id="simplicity"><a href="#simplicity">Simplicity</a></h2>
              <p>
                With all of the above power levels and features laid out,
                there's really not much else to say other than to make the case
                for simplicity in code. Lots of notable quotes in this area:
              </p>
              <blockquote>
                <p>
                  Everything should be made as simple as possible, but no
                  simpler.
                </p>
              </blockquote>
              <blockquote>
                <p>
                  Always implement things when you actually need them, never
                  when you just foresee that you need them.
                </p>
              </blockquote>
              <blockquote>
                <p>
                  We should forget about small efficiencies, say about 97% of
                  the time: premature optimization is the root of all evil.
                </p>
              </blockquote>
              <p>
                And so it is with power: picking the least powerful construct to
                solve a problem aids the most simple solution. This is bundled
                up nicely as the
                <a href="https://en.wikipedia.org/wiki/Rule_of_least_power"
                  >Rule of least power</a
                >. And there are some complimentary acronyms to say the same
                thing in a rush:
                <a href="https://en.wikipedia.org/wiki/KISS_principle"
                  >Keep it simple stupid (KISS)</a
                >
                and
                <a
                  href="https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it"
                  >&quot;You ain't gonna need it&quot; (YAGNI)</a
                >.
              </p>
              <p>
                There are legitimate use cases for each of these levels of power
                and appropriate times to use them. Deciding what is unnecessary
                power often boils down to &quot;can we make this work with this
                less powerful thing?&quot; and iterating on that until there's
                no reasonable weaker choice.
              </p>
              <p>
                We also need to be cognizant and articulate exactly what
                <em>is necessary</em> to make this decision. Getting these
                explicit requirements figured out is the harder problem. Lacking
                those requirements, airing on the side of least power initially
                is easier to recover from than something more powerful.
              </p>
            </div>
          </div>
          <div class="sc-eCYdqJ jZkxEC">
            <p class="sc-iBkjds xFOWy">
              <small
                ><time
                  datetime="2020-11-03T00:00:00.000Z"
                  title="2020-11-03T00:00:00.000Z"
                  >Published 11/3/2020</time
                ></small
              >
            </p>
          </div>
          <div class="sc-jOrMOR knOpkX">
            <div class="sc-bBXxYQ IPkLw">
              <h3>Subscribe for new articles</h3>
              <iframe
                width="300"
                height="35"
                frameborder="off"
                scrolling="off"
                src="https://newsletter.jew.ski/frame/subscribe"
              ></iframe>
              <p>
                <small
                  >Or add the
                  <a href="/writing/feed.atom.xml" class="sc-bczRLJ kvjZgE"
                    >Atom feed</a
                  >
                  to your feed reader.</small
                >
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
